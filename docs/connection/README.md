# connection

## Overview

Connection between sources and destinations.

### Available Operations

* [createConnection](#createconnection) - Create a connection between a source and a destination
* [deleteConnection](#deleteconnection) - Delete a connection
* [getConnection](#getconnection) - Get a connection
* [listAllConnectionsForWorkspace](#listallconnectionsforworkspace) - Returns all connections for a workspace, including deleted connections.
* [listConnectionsForWorkspace](#listconnectionsforworkspace) - Returns all connections for a workspace.
* [resetConnection](#resetconnection) - Reset the data for the connection. Deletes data generated by the connection in the destination. Resets any cursors back to initial state.
* [searchConnections](#searchconnections) - Search connections
* [syncConnection](#syncconnection) - Trigger a manual sync of the connection
* [updateConnection](#updateconnection) - Update a connection

## createConnection

Create a connection between a source and a destination

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { CreateConnectionResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.createConnection({
  destinationId: "b5e6e13b-99d4-488e-9e91-e450ad2abd44",
  geography: GeographyEnum.Auto,
  name: "Mr. Shelly Lueilwitz",
  namespaceDefinition: NamespaceDefinitionTypeEnum.Destination,
  namespaceFormat: "${SOURCE_NAMESPACE}",
  nonBreakingChangesPreference: NonBreakingChangesPreferenceEnum.Ignore,
  notifySchemaChanges: false,
  operationIds: [
    "a94bb4f6-3c96-49e9-a3ef-a77dfb14cd66",
  ],
  prefix: "laborum",
  resourceRequirements: {
    cpuLimit: "accusamus",
    cpuRequest: "non",
    memoryLimit: "occaecati",
    memoryRequest: "enim",
  },
  schedule: {
    timeUnit: ConnectionScheduleTimeUnitEnum.Months,
    units: 965417,
  },
  scheduleData: {
    basicSchedule: {
      timeUnit: ConnectionScheduleDataBasicScheduleTimeUnitEnum.Weeks,
      units: 588465,
    },
    cron: {
      cronExpression: "nam",
      cronTimeZone: "id",
    },
  },
  scheduleType: ConnectionScheduleTypeEnum.Basic,
  sourceCatalogId: "8f3a6699-7074-4ba4-869b-6e2141959890",
  sourceId: "afa563e2-516f-4e4c-8b71-1e5b7fd2ed02",
  status: ConnectionStatusEnum.Inactive,
  syncCatalog: {
    streams: [
      {
        config: {
          aliasName: "magni",
          cursorField: [
            "quo",
          ],
          destinationSyncMode: DestinationSyncModeEnum.AppendDedup,
          fieldSelectionEnabled: false,
          primaryKey: [
            [
              "ea",
              "excepturi",
              "odit",
              "ea",
            ],
            [
              "ab",
            ],
            [
              "quidem",
              "ipsam",
              "voluptate",
              "autem",
            ],
            [
              "eaque",
              "pariatur",
              "nemo",
            ],
          ],
          selected: false,
          selectedFields: [
            {
              fieldPath: [
                "fugiat",
              ],
            },
            {
              fieldPath: [
                "aut",
              ],
            },
            {
              fieldPath: [
                "corporis",
                "hic",
                "libero",
                "nobis",
              ],
            },
            {
              fieldPath: [
                "quis",
              ],
            },
          ],
          suggested: false,
          syncMode: SyncModeEnum.Incremental,
        },
        stream: {
          defaultCursorField: [
            "eaque",
            "quis",
          ],
          jsonSchema: {
            "eos": "perferendis",
          },
          name: "Brooke Kohler",
          namespace: "nostrum",
          sourceDefinedCursor: false,
          sourceDefinedPrimaryKey: [
            [
              "omnis",
              "facilis",
              "perspiciatis",
              "voluptatem",
            ],
            [
              "consequuntur",
              "blanditiis",
              "error",
              "eaque",
            ],
            [
              "rerum",
              "adipisci",
              "asperiores",
            ],
            [
              "modi",
              "iste",
              "dolorum",
              "deleniti",
            ],
          ],
          supportedSyncModes: [
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
          ],
        },
      },
      {
        config: {
          aliasName: "quaerat",
          cursorField: [
            "aliquid",
            "dolorem",
            "dolorem",
          ],
          destinationSyncMode: DestinationSyncModeEnum.Append,
          fieldSelectionEnabled: false,
          primaryKey: [
            [
              "hic",
            ],
          ],
          selected: false,
          selectedFields: [
            {
              fieldPath: [
                "voluptate",
                "dignissimos",
                "reiciendis",
              ],
            },
            {
              fieldPath: [
                "dolorum",
              ],
            },
            {
              fieldPath: [
                "veritatis",
                "ipsa",
              ],
            },
          ],
          suggested: false,
          syncMode: SyncModeEnum.FullRefresh,
        },
        stream: {
          defaultCursorField: [
            "odio",
            "quaerat",
          ],
          jsonSchema: {
            "quidem": "voluptatibus",
            "voluptas": "natus",
            "eos": "atque",
            "sit": "fugiat",
          },
          name: "Latoya Parisian",
          namespace: "dolorum",
          sourceDefinedCursor: false,
          sourceDefinedPrimaryKey: [
            [
              "necessitatibus",
              "distinctio",
              "asperiores",
            ],
            [
              "ipsum",
              "voluptate",
            ],
            [
              "saepe",
              "eius",
              "aspernatur",
            ],
          ],
          supportedSyncModes: [
            SyncModeEnum.FullRefresh,
          ],
        },
      },
      {
        config: {
          aliasName: "optio",
          cursorField: [
            "ad",
            "saepe",
            "suscipit",
            "deserunt",
          ],
          destinationSyncMode: DestinationSyncModeEnum.Overwrite,
          fieldSelectionEnabled: false,
          primaryKey: [
            [
              "totam",
              "similique",
              "alias",
              "at",
            ],
            [
              "tempora",
              "vel",
            ],
          ],
          selected: false,
          selectedFields: [
            {
              fieldPath: [
                "qui",
                "dolorum",
                "a",
                "esse",
              ],
            },
            {
              fieldPath: [
                "iusto",
                "ipsum",
                "quisquam",
              ],
            },
            {
              fieldPath: [
                "amet",
                "tempore",
                "accusamus",
                "numquam",
              ],
            },
            {
              fieldPath: [
                "dolorem",
                "sapiente",
              ],
            },
          ],
          suggested: false,
          syncMode: SyncModeEnum.Incremental,
        },
        stream: {
          defaultCursorField: [
            "sit",
            "expedita",
          ],
          jsonSchema: {
            "sed": "vel",
          },
          name: "Glen Oberbrunner",
          namespace: "incidunt",
          sourceDefinedCursor: false,
          sourceDefinedPrimaryKey: [
            [
              "maxime",
              "pariatur",
              "soluta",
            ],
          ],
          supportedSyncModes: [
            SyncModeEnum.Incremental,
          ],
        },
      },
    ],
  },
}).then((res: CreateConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## deleteConnection

Delete a connection

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { DeleteConnectionResponse } from "airbyte-test/dist/sdk/models/operations";

const sdk = new AirbyteTest();

sdk.connection.deleteConnection({
  connectionId: "8422bb67-9d23-4227-95bf-0cbb1e31b8b9",
}).then((res: DeleteConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## getConnection

Get a connection

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { GetConnectionResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.getConnection({
  connectionId: "0f3443a1-108e-40ad-8f4b-921879fce953",
}).then((res: GetConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## listAllConnectionsForWorkspace

List connections for workspace, including deleted connections.

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { ListAllConnectionsForWorkspaceResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.listAllConnectionsForWorkspace({
  workspaceId: "f73ef7fb-c7ab-4d74-9d39-c0f5d2cff7c7",
}).then((res: ListAllConnectionsForWorkspaceResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## listConnectionsForWorkspace

List connections for workspace. Does not return deleted connections.

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { ListConnectionsForWorkspaceResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.listConnectionsForWorkspace({
  workspaceId: "0a45626d-4368-413f-96d9-f5fce6c55614",
}).then((res: ListConnectionsForWorkspaceResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## resetConnection

Reset the data for the connection. Deletes data generated by the connection in the destination. Resets any cursors back to initial state.

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { ResetConnectionResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  AttemptFailureOriginEnum,
  AttemptFailureTypeEnum,
  AttemptStatusEnum,
  JobConfigTypeEnum,
  JobStatusEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.resetConnection({
  connectionId: "6c3e250f-b008-4c42-a141-aac366c8dd6b",
}).then((res: ResetConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## searchConnections

Search connections

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { SearchConnectionsResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.searchConnections({
  connectionId: "14429074-7477-48a7-bd46-6d28c10ab3cd",
  destination: {
    connectionConfiguration: "quo",
    destinationDefinitionId: "a4251904-e523-4c7e-8bc7-178e4796f2a7",
    destinationId: "0c688282-aa48-4256-af22-2e9817ee17cb",
    destinationName: "vero",
    name: "Frances Turner",
    workspaceId: "7b95bc0a-b3c2-40c4-b378-9fd871f99dd2",
  },
  destinationId: "efd121aa-6f1e-4674-bdb0-4f15756082d6",
  name: "Miss Percy Parisian",
  namespaceDefinition: NamespaceDefinitionTypeEnum.Source,
  namespaceFormat: "${SOURCE_NAMESPACE}",
  prefix: "at",
  schedule: {
    timeUnit: ConnectionScheduleTimeUnitEnum.Minutes,
    units: 454162,
  },
  scheduleData: {
    basicSchedule: {
      timeUnit: ConnectionScheduleDataBasicScheduleTimeUnitEnum.Minutes,
      units: 326701,
    },
    cron: {
      cronExpression: "veritatis",
      cronTimeZone: "consectetur",
    },
  },
  scheduleType: ConnectionScheduleTypeEnum.Manual,
  source: {
    connectionConfiguration: "iste",
    name: "Ms. Kenneth Ledner",
    sourceDefinitionId: "a1840394-c260-471f-93f5-f0642dac7af5",
    sourceId: "15cc413a-a63a-4ae8-9678-64dbb675fd5e",
    sourceName: "aliquid",
    workspaceId: "0b375ed4-f6fb-4ee4-9f33-317fe35b60eb",
  },
  sourceId: "1ea42655-5ba3-4c28-b44e-d53b88f3a8d8",
  status: ConnectionStatusEnum.Deprecated,
}).then((res: SearchConnectionsResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## syncConnection

Trigger a manual sync of the connection

### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { SyncConnectionResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  AttemptFailureOriginEnum,
  AttemptFailureTypeEnum,
  AttemptStatusEnum,
  JobConfigTypeEnum,
  JobStatusEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.syncConnection({
  connectionId: "5c0b2f2f-b7b1-494a-a76b-26916fe1f08f",
}).then((res: SyncConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```

## updateConnection

Apply a patch-style update to a connection. Only fields present on the update request body will be updated.
Note that if a catalog is present in the request body, the connection's entire catalog will be replaced
with the catalog from the request. This means that to modify a single stream, the entire new catalog
containing the updated stream needs to be sent.


### Example Usage

```typescript
import { AirbyteTest } from "airbyte-test";
import { UpdateConnectionResponse } from "airbyte-test/dist/sdk/models/operations";
import {
  ConnectionScheduleDataBasicScheduleTimeUnitEnum,
  ConnectionScheduleTimeUnitEnum,
  ConnectionScheduleTypeEnum,
  ConnectionStatusEnum,
  DestinationSyncModeEnum,
  GeographyEnum,
  NamespaceDefinitionTypeEnum,
  NonBreakingChangesPreferenceEnum,
  SyncModeEnum,
} from "airbyte-test/dist/sdk/models/shared";

const sdk = new AirbyteTest();

sdk.connection.updateConnection({
  breakingChange: false,
  connectionId: "4294e369-8f44-47f6-83e8-b445e80ca55e",
  geography: GeographyEnum.Eu,
  name: "Martin Beatty",
  namespaceDefinition: NamespaceDefinitionTypeEnum.Source,
  namespaceFormat: "${SOURCE_NAMESPACE}",
  nonBreakingChangesPreference: NonBreakingChangesPreferenceEnum.Ignore,
  notifySchemaChanges: false,
  operationIds: [
    "1858b6a8-9fbe-43a5-aa8e-4824d0ab4075",
    "088e5186-2065-4e90-8f3b-1194b8abf603",
    "a79f9dfe-0ab7-4da8-a50c-e187f86bc173",
    "d689eee9-526f-48d9-86e8-81ead4f0e101",
  ],
  prefix: "dolores",
  resourceRequirements: {
    cpuLimit: "enim",
    cpuRequest: "laboriosam",
    memoryLimit: "velit",
    memoryRequest: "a",
  },
  schedule: {
    timeUnit: ConnectionScheduleTimeUnitEnum.Days,
    units: 300029,
  },
  scheduleData: {
    basicSchedule: {
      timeUnit: ConnectionScheduleDataBasicScheduleTimeUnitEnum.Months,
      units: 160467,
    },
    cron: {
      cronExpression: "occaecati",
      cronTimeZone: "officiis",
    },
  },
  scheduleType: ConnectionScheduleTypeEnum.Basic,
  sourceCatalogId: "73e922a5-7a15-4be3-a060-807e2b6e3ab8",
  status: ConnectionStatusEnum.Inactive,
  syncCatalog: {
    streams: [
      {
        config: {
          aliasName: "ad",
          cursorField: [
            "alias",
            "corporis",
            "perspiciatis",
            "nihil",
          ],
          destinationSyncMode: DestinationSyncModeEnum.Overwrite,
          fieldSelectionEnabled: false,
          primaryKey: [
            [
              "maiores",
            ],
            [
              "dolores",
              "id",
              "minima",
              "dolore",
            ],
          ],
          selected: false,
          selectedFields: [
            {
              fieldPath: [
                "quae",
              ],
            },
            {
              fieldPath: [
                "omnis",
                "quaerat",
                "molestiae",
                "ex",
              ],
            },
            {
              fieldPath: [
                "culpa",
                "adipisci",
              ],
            },
          ],
          suggested: false,
          syncMode: SyncModeEnum.Incremental,
        },
        stream: {
          defaultCursorField: [
            "eum",
            "nemo",
            "recusandae",
          ],
          jsonSchema: {
            "provident": "quis",
            "eum": "reiciendis",
          },
          name: "Miss Bruce Hermann",
          namespace: "mollitia",
          sourceDefinedCursor: false,
          sourceDefinedPrimaryKey: [
            [
              "animi",
              "ex",
              "aliquid",
              "accusantium",
            ],
            [
              "doloribus",
              "ullam",
              "in",
              "nam",
            ],
            [
              "officia",
              "laborum",
              "placeat",
              "modi",
            ],
          ],
          supportedSyncModes: [
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
          ],
        },
      },
      {
        config: {
          aliasName: "vitae",
          cursorField: [
            "tempora",
            "quis",
            "inventore",
          ],
          destinationSyncMode: DestinationSyncModeEnum.Append,
          fieldSelectionEnabled: false,
          primaryKey: [
            [
              "perferendis",
            ],
            [
              "aspernatur",
            ],
            [
              "eius",
              "rem",
            ],
            [
              "impedit",
              "eos",
              "sapiente",
              "eum",
            ],
          ],
          selected: false,
          selectedFields: [
            {
              fieldPath: [
                "beatae",
                "cupiditate",
              ],
            },
          ],
          suggested: false,
          syncMode: SyncModeEnum.Incremental,
        },
        stream: {
          defaultCursorField: [
            "soluta",
            "hic",
            "illum",
            "eaque",
          ],
          jsonSchema: {
            "perspiciatis": "maiores",
            "debitis": "aliquid",
            "porro": "suscipit",
            "dolorem": "fugit",
          },
          name: "Grant Dickens",
          namespace: "nulla",
          sourceDefinedCursor: false,
          sourceDefinedPrimaryKey: [
            [
              "et",
            ],
          ],
          supportedSyncModes: [
            SyncModeEnum.Incremental,
            SyncModeEnum.Incremental,
          ],
        },
      },
    ],
  },
}).then((res: UpdateConnectionResponse) => {
  if (res.statusCode == 200) {
    // handle response
  }
});
```
